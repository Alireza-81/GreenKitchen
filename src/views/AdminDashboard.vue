<template>
  <div class="dashboard-container">
    <!-- Sidebar: Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ùˆ Ù…Ø´Ø®ØµØ§Øª Ø§Ø¯Ù…ÛŒÙ† -->
    <aside class="sidebar">
      <!-- Ø¹Ù†ÙˆØ§Ù† Ù¾Ù†Ù„ -->
      <div class="sidebar-header">
        <h2 class="sidebar-title">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø´Ù¾Ø²ÛŒ</h2>
        <!-- Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ø§Ø¹Ù„Ø§Ù† -->
        <div class="sidebar-icons">
          <button class="icon-btn"><span class="icon">âš™ï¸</span></button>
          <button class="icon-btn"><span class="icon">ğŸ””</span></button>
        </div>
      </div>

      <!-- Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
      <ul class="nav-list">
        <li :class="{ active: activeSection === 'dashboard' }" @click="activeSection = 'dashboard'">
          <span class="nav-icon">ğŸ </span>
          <span>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</span>
        </li>
        <li :class="{ active: activeSection === 'levels' }" @click="activeSection = 'levels'">
          <span class="nav-icon">ğŸ“Š</span>
          <span>Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ</span>
        </li>
        <li :class="{ active: activeSection === 'users' }" @click="activeSection = 'users'">
          <span class="nav-icon">ğŸ‘¥</span>
          <span>Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</span>
        </li>
        <li :class="{ active: activeSection === 'content' }" @click="activeSection = 'content'">
          <span class="nav-icon">ğŸ“š</span>
          <span>Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</span>
        </li>
        <li :class="{ active: activeSection === 'exams' }" @click="activeSection = 'exams'">
          <span class="nav-icon">ğŸ“</span>
          <span>Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</span>
        </li>
        <li :class="{ active: activeSection === 'integrations' }" @click="activeSection = 'integrations'">
          <span class="nav-icon">ğŸ”Œ</span>
          <span>Ø§ØªØµØ§Ù„Ø§Øª Ø³ÛŒØ³ØªÙ…</span>
        </li>
      </ul>

      <!-- Ù…Ø´Ø®ØµØ§Øª Ø§Ø¯Ù…ÛŒÙ† Ùˆ Ø¯Ú©Ù…Ù‡ Ø®Ø±ÙˆØ¬ -->
      <div class="sidebar-footer">
        <div class="admin-info">
          <div class="avatar">ğŸ‘©â€ğŸ’¼</div>
          <div class="admin-text">
            <p class="admin-name">{{ admin.name }}</p>
            <p class="admin-email">{{ admin.email }}</p>
          </div>
        </div>
        <button class="btn btn-logout">Ø®Ø±ÙˆØ¬</button>
      </div>
    </aside>

    <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§Ø¯Ù…ÛŒÙ† -->
    <main class="main-content">
      <!-- ===== Ø¨Ø®Ø´ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ ===== -->
      <section v-if="activeSection === 'dashboard'">
        <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ±ÛŒÚ© Ø¨Ø§Ù„Ø§ -->
        <section class="metrics">
          <div class="metric-card">
            <div class="metric-icon">ğŸ‘¥</div>
            <div class="metric-info">
              <h4 class="metric-number">{{ stats.activeUsers }}</h4>
              <p class="metric-label">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„</p>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">ğŸ“‹</div>
            <div class="metric-info">
              <h4 class="metric-number">{{ stats.levels }}</h4>
              <p class="metric-label">Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ</p>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">ğŸ“š</div>
            <div class="metric-info">
              <h4 class="metric-number">{{ stats.contents }}</h4>
              <p class="metric-label">Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</p>
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">âœ…</div>
            <div class="metric-info">
              <h4 class="metric-number">{{ stats.exams }}</h4>
              <p class="metric-label">Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</p>
            </div>
          </div>
        </section>

        <!-- ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… Ùˆ ÙØ¹Ø§Ù„ÛŒØª Ø§Ø®ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø± ÛŒÚ© Ú©Ø§Ø±Øª Ø³ÙÛŒØ¯ -->
        <section class="bottom-panels-wrapper">
          <div class="panel card-panel">
            <!-- ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… -->
            <div class="panel system-status">
              <h3 class="panel-title">ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…</h3>
              <div class="status-item" v-for="(item, idx) in systemStatus" :key="idx">
                <div class="status-label">
                  <span class="status-text">{{ item.label }}</span>
                  <span v-if="item.valueLabel" class="status-value-label">{{ item.valueLabel }}</span>
                </div>
                <div class="progress-bar">
                  <div
                      class="progress-fill"
                      :style="item.percentageStyle"
                  ></div>
                </div>
                <span v-if="item.percentage" class="status-percentage">{{ item.percentage }}%</span>
              </div>
            </div>

            <!-- ÙØ¹Ø§Ù„ÛŒØª Ø§Ø®ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù† -->
            <div class="panel recent-activity">
              <h3 class="panel-title">ÙØ¹Ø§Ù„ÛŒØª Ø§Ø®ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3>
              <ul class="activity-list">
                <li v-for="(act, idx) in recentActivities" :key="idx">
                  <span class="activity-avatar" :style="{ backgroundColor: act.color }">{{ act.initial }}</span>
                  <div class="activity-text">
                    <p>
                      <strong>{{ act.name }}</strong>
                      {{ act.action }}
                    </p>
                    <span class="activity-time">{{ act.time }}</span>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>
      </section>

      <!-- ===== Ø¨Ø®Ø´ ÙˆÛŒØ±Ø§ÛŒØ´ Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ ===== -->
      <section v-else-if="activeSection === 'levels'" class="panel levels-panel">
        <h3 class="panel-title">Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ</h3>
        <button class="btn btn-primary" @click="addLevel">Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø·Ø­ Ø¬Ø¯ÛŒØ¯</button>
        <ul class="levels-list">
          <li v-for="(level, idx) in levelsData" :key="level.id" class="level-item">
            <div class="level-order">
              <button class="btn btn-outline small" @click="moveLevelUp(idx)" :disabled="idx === 0">â–²</button>
              <button class="btn btn-outline small" @click="moveLevelDown(idx)" :disabled="idx === levelsData.length - 1">â–¼</button>
            </div>
            <input
                type="text"
                v-model="level.title"
                class="level-input"
                placeholder="Ù†Ø§Ù… Ø³Ø·Ø­"
            />
            <button class="btn btn-danger small" @click="removeLevel(idx)">Ø­Ø°Ù</button>
          </li>
        </ul>
      </section>

      <!-- ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ===== -->
      <section v-else-if="activeSection === 'users'" class="panel users-panel">
        <h3 class="panel-title">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3>
        <table class="users-table">
          <thead>
          <tr>
            <th>Ù†Ø§Ù…</th>
            <th>Ø§ÛŒÙ…ÛŒÙ„</th>
            <th>Ø¯Ø³ØªØ±Ø³ÛŒ</th>
            <th>Ø§Ù‚Ø¯Ø§Ù…Ø§Øª</th>
          </tr>
          </thead>
          <tbody>
          <tr v-for="(usr, idx) in usersData" :key="usr.id">
            <td>{{ usr.name }}</td>
            <td>{{ usr.email }}</td>
            <td>
              <select v-model="usr.role" @change="updateUserRole(usr.id, usr.role)">
                <option value="user">Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ</option>
                <option value="manager">Ù…Ø¯ÛŒØ±</option>
                <option value="admin">Ø§Ø¯Ù…ÛŒÙ†</option>
                <option value="banned">Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡</option>
              </select>
            </td>
            <td>
              <button class="btn btn-danger small" @click="removeUser(idx)">
                Ø­Ø°Ù
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </section>

      <!-- ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ ===== -->
      <section v-else-if="activeSection === 'content'" class="panel content-panel">
        <h3 class="panel-title">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</h3>
        <button class="btn btn-primary" @click="addContent">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØªÙˆØ§</button>
        <ul class="content-list">
          <li v-for="(cont, idx) in contentData" :key="cont.id" class="content-item">
            <input
                type="text"
                v-model="cont.title"
                class="content-input"
                placeholder="Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ØªÙˆØ§"
            />
            <textarea
                v-model="cont.text"
                class="content-textarea"
                placeholder="Ù…ØªÙ† Ù…Ø­ØªÙˆØ§"
                rows="3"
            ></textarea>
            <button class="btn btn-danger small" @click="removeContent(idx)">Ø­Ø°Ù</button>
          </li>
        </ul>
      </section>

      <!-- ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ ===== -->
      <section v-else-if="activeSection === 'exams'" class="panel exams-panel">
        <h3 class="panel-title">Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</h3>
        <button class="btn btn-primary" @click="addExam">Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø²Ù…ÙˆÙ†</button>
        <ul class="exams-list">
          <li v-for="(exam, eIdx) in examsData" :key="exam.id" class="exam-item">
            <div class="exam-header">
              <input
                  type="text"
                  v-model="exam.title"
                  class="exam-input"
                  placeholder="Ø¹Ù†ÙˆØ§Ù† Ø¢Ø²Ù…ÙˆÙ†"
              />
              <button class="btn btn-danger small" @click="removeExam(eIdx)">Ø­Ø°Ù Ø¢Ø²Ù…ÙˆÙ†</button>
            </div>
            <h4 class="exam-subtitle">Ø³Ø¤Ø§Ù„Ø§Øª:</h4>
            <ul class="questions-list">
              <li v-for="(q, qIdx) in exam.questions" :key="qIdx" class="question-item">
                <input
                    type="text"
                    v-model="q.question"
                    class="question-input"
                    placeholder="Ù…ØªÙ† Ø³Ø¤Ø§Ù„"
                />
                <ul class="options-list">
                  <li v-for="(opt, oIdx) in q.options" :key="oIdx" class="option-item">
                    <input
                        type="text"
                        v-model="q.options[oIdx]"
                        class="option-input"
                        placeholder="Ù…ØªÙ† Ú¯Ø²ÛŒÙ†Ù‡"
                    />
                    <label>
                      <input
                          type="radio"
                          :name="'correct-' + exam.id + '-' + qIdx"
                          :value="oIdx"
                          v-model="q.correct"
                      />
                      ØµØ­ÛŒØ­
                    </label>
                  </li>
                </ul>
                <button class="btn btn-outline small" @click="addOption(exam.id, qIdx)">
                  Ø§ÙØ²ÙˆØ¯Ù† Ú¯Ø²ÛŒÙ†Ù‡
                </button>
                <button class="btn btn-danger small" @click="removeQuestion(exam.id, qIdx)">
                  Ø­Ø°Ù Ø³Ø¤Ø§Ù„
                </button>
              </li>
            </ul>
            <button class="btn btn-outline small" @click="addQuestion(exam.id)">
              Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÛŒØ¯
            </button>
          </li>
        </ul>
      </section>

      <!-- ===== Ø¨Ø®Ø´ Ø§ØªØµØ§Ù„Ø§Øª Ø³ÛŒØ³ØªÙ… ===== -->
      <section v-else-if="activeSection === 'integrations'" class="panel integrations-panel">
        <h3 class="panel-title">Ø§ØªØµØ§Ù„Ø§Øª Ø³ÛŒØ³ØªÙ…</h3>
        <p>Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø¬Ø§Ù†Ø¨ÛŒ Ø±Ø§ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ù…ØªØµÙ„ Ú©Ù†ÛŒØ¯ (Ù†Ù…Ø§ÛŒØ´ ØµØ±ÙØ§Ù‹ Ø¨ØµØ±ÛŒ).</p>
        <div class="integration-item">
          <span class="integration-icon">ğŸ”—</span>
          <span class="integration-label">Ø§ØªØµØ§Ù„ Ø¨Ù‡ LMS Ø´Ø±Ú©Øª</span>
          <button class="btn btn-outline small">Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</button>
        </div>
        <div class="integration-item">
          <span class="integration-icon">ğŸ“Š</span>
          <span class="integration-label">Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ BI</span>
          <button class="btn btn-outline small">Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</button>
        </div>
        <div class="integration-item">
          <span class="integration-icon">ğŸ””</span>
          <span class="integration-label">Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„ÛŒ</span>
          <button class="btn btn-outline small">Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</button>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup>
import { reactive, ref } from "vue";

// Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¯Ù…ÛŒÙ†
const admin = reactive({
  name: "Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…",
  email: "admin@cooking.com",
});

// ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
const stats = reactive({
  activeUsers: 20,
  levels: 10,
  contents: 24,
  exams: 12,
});

// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
const systemStatus = reactive([
  {
    label: "Ù¾ÛŒØ´Ø±ÙØª Ú©Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†",
    percentage: 68,
    get percentageStyle() {
      return { width: this.percentage + "%" };
    },
  },
  {
    label: "ØªÚ©Ù…ÛŒÙ„ Ù…Ø­ØªÙˆØ§",
    percentage: 82,
    get percentageStyle() {
      return { width: this.percentage + "%" };
    },
  },
  {
    label: "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù†Ù…Ø±Ø§Øª Ø¢Ø²Ù…ÙˆÙ†",
    percentage: 75,
    get percentageStyle() {
      return { width: this.percentage + "%" };
    },
  },
  {
    label: "Ø§ØªØµØ§Ù„Ø§Øª Ø³ÛŒØ³ØªÙ…",
    valueLabel: "3/5",
    get percentageStyle() {
      // 3 Ø§Ø² 5 Ù…Ø¹Ø§Ø¯Ù„ 60%
      return { width: (3 / 5) * 100 + "%" };
    },
  },
]);

// ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
const recentActivities = reactive([
  {
    initial: "Ø³",
    name: "Ø³Ø§Ø±Ø§ Ù…Ø­Ù…Ø¯ÛŒ",
    action: "Ø³Ø·Ø­ Â«Ø¢Ø´Ù¾Ø²ÛŒ Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡Â» Ø±Ø§ Ø¨Ù‡ Ø§ØªÙ…Ø§Ù… Ø±Ø³Ø§Ù†Ø¯.",
    time: "2 Ø³Ø§Ø¹Øª Ù¾ÛŒØ´",
    color: "#4caf50",
  },
  {
    initial: "Ø¹",
    name: "Ø¹Ù„ÛŒ Ø±Ø¶Ø§ÛŒÛŒ",
    action: "Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ† Â«Ø§ØµÙˆÙ„ Ù¾Ø®Øª Ùˆ Ù¾Ø²Â» Ù†Ù…Ø±Ù‡ 95 Ø§Ø² 100 Ú©Ø³Ø¨ Ú©Ø±Ø¯.",
    time: "5 Ø³Ø§Ø¹Øª Ù¾ÛŒØ´",
    color: "#2196f3",
  },
  {
    initial: "Ù…",
    name: "Ù…Ø±ÛŒÙ… Ú©Ø±ÛŒÙ…ÛŒ",
    action: "Ø¯ÙˆØ±Ù‡ Â«Ø¯Ø³Ø±Ù‡Ø§ÛŒ ÙØ±Ø§Ù†Ø³ÙˆÛŒÂ» Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯.",
    time: "Ø¯ÛŒØ±ÙˆØ²",
    color: "#9c27b0",
  },
  {
    initial: "Ø­",
    name: "Ø­Ø³ÛŒÙ† Ø§Ú©Ø¨Ø±ÛŒ",
    action: "Ù…Ø­ØªÙˆØ§ÛŒ Â«ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø´ Ø³Ø¨Ø²ÛŒØ¬Ø§ØªÂ» Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯.",
    time: "Ø¯ÛŒØ±ÙˆØ²",
    color: "#ff9800",
  },
]);

const activeSection = ref("dashboard");

/* =============== Û±. Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ =============== */
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø§ Û±Û° Ù…Ù‚Ø¯Ø§Ø± Ø«Ø§Ø¨Øª
const levelsData = reactive([
  { id: 1, title: "Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ" },
  { id: 2, title: "Ù…Ù‡Ø§Ø±Øª Ú†Ø§Ù‚Ùˆ" },
  { id: 3, title: "Ø­Ø±Ø§Ø±Øª Ùˆ Ø²Ù…Ø§Ù†" },
  { id: 4, title: "Ø·Ø¹Ù…â€ŒÙ‡Ø§" },
  { id: 5, title: "ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§" },
  { id: 6, title: "Ø¢Ø´Ù¾Ø²ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ" },
  { id: 7, title: "Ù¾ÛŒØ´Ø±ÙØªÙ‡" },
  { id: 8, title: "Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒÙ¾Ø²ÛŒ" },
  { id: 9, title: "Ø¯Ø³Ø±Ù‡Ø§" },
  { id: 10, title: "Ø³Ø±Ø¢Ø´Ù¾Ø²" },
]);

// Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø·Ø­ Ø¬Ø¯ÛŒØ¯ (Ø§Ù…Ø§ Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ø§ÛŒÙ†Ø¬Ø§ Ø«Ø§Ø¨Øª Ù†Ú¯Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø§Ø¶Ø§ÙÙ‡ Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…)
// Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø¨Ø§Ø´Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ù…Ø´Ø§Ø¨Ù‡ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯:
function addLevel() {
  const newId = levelsData.length ? levelsData[levelsData.length - 1].id + 1 : 1;
  levelsData.push({ id: newId, title: "" });
}

// Ø­Ø°Ù Ø³Ø·Ø­
function removeLevel(index) {
  levelsData.splice(index, 1);
}

// Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ø³Ø·Ø­ Ø¨Ù‡ Ø¨Ø§Ù„Ø§
function moveLevelUp(index) {
  if (index === 0) return;
  const temp = levelsData[index - 1];
  levelsData[index - 1] = levelsData[index];
  levelsData[index] = temp;
}

// Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ø³Ø·Ø­ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
function moveLevelDown(index) {
  if (index === levelsData.length - 1) return;
  const temp = levelsData[index + 1];
  levelsData[index + 1] = levelsData[index];
  levelsData[index] = temp;
}

/* =============== Û². Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ ØªØºÛŒÛŒØ± Ø¯Ø³ØªØ±Ø³ÛŒ =============== */
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
const usersData = reactive([
  { id: 1, name: "Ø³Ø§Ø±Ø§ Ù…Ø­Ù…Ø¯ÛŒ", email: "sara@example.com", role: "user" },
  { id: 2, name: "Ø¹Ù„ÛŒ Ø±Ø¶Ø§ÛŒÛŒ", email: "ali@example.com", role: "manager" },
  { id: 3, name: "Ù…Ø±ÛŒÙ… Ú©Ø±ÛŒÙ…ÛŒ", email: "maryam@example.com", role: "user" },
  { id: 4, name: "Ø­Ø³ÛŒÙ† Ø§Ú©Ø¨Ø±ÛŒ", email: "hossein@example.com", role: "banned" },
]);

// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù‚Ø´/Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ø±Ø¨Ø±
function updateUserRole(userId, newRole) {
  const user = usersData.find((u) => u.id === userId);
  if (user) {
    user.role = newRole;
    // Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ API Ú©Ø§Ù„ Ø¬Ù‡Øª Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
  }
}

// Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±
function removeUser(index) {
  usersData.splice(index, 1);
}

/* =============== Û³. Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ =============== */
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ
const contentData = reactive([
  { id: 1, title: "Ù…Ø¨Ø§Ù†ÛŒ Ø¢Ø´Ù¾Ø²ÛŒ", text: "Ù…ØªÙ† Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø¨Ø§Ù†ÛŒ Ø¢Ø´Ù¾Ø²ÛŒ..." },
  { id: 2, title: "Ø§ÛŒÙ…Ù†ÛŒ Ø¯Ø± Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡", text: "Ù…ØªÙ† Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù†Ú©Ø§Øª Ø§ÛŒÙ…Ù†ÛŒ..." },
]);

// Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØªÙˆØ§
function addContent() {
  const newId = contentData.length ? contentData[contentData.length - 1].id + 1 : 1;
  contentData.push({ id: newId, title: "", text: "" });
}

// Ø­Ø°Ù Ù…Ø­ØªÙˆØ§
function removeContent(index) {
  contentData.splice(index, 1);
}

/* =============== Û´. Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ Ùˆ Ø³ÙˆØ§Ù„Ø§Øª =============== */
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§
const examsData = reactive([
  {
    id: 1,
    title: "Ø¢Ø²Ù…ÙˆÙ† Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ",
    questions: [
      {
        question: "Ú©Ø¯Ø§Ù… Ø§Ø¨Ø²Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø®Ø±Ø¯ Ú©Ø±Ø¯Ù† Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³ØªØŸ",
        options: ["Ú©Ø§Ø±Ø¯", "Ù…Ø®Ù„ÙˆØ·â€ŒÚ©Ù†", "Ø¸Ø±Ù Ø´Ø³ØªØ´Ùˆ", "ØªØ®ØªÙ‡ Ú¯ÙˆØ´Øª"],
        correct: 0,
      },
      {
        question: "Ø§ÙˆÙ„ÛŒÙ† Ú¯Ø§Ù… Ø§ÛŒÙ…Ù†ÛŒ Ø¯Ø± Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ Ú†ÛŒØ³ØªØŸ",
        options: ["Ø´Ø³ØªÙ† Ø¯Ø³Øªâ€ŒÙ‡Ø§", "Ø±ÙˆØ´Ù† Ú©Ø±Ø¯Ù† Ú¯Ø§Ø²", "Ù¾ÙˆØ´ÛŒØ¯Ù† Ø¯Ø³ØªÚ©Ø´", "Ø®Ù†Ú©â€ŒÚ©Ø±Ø¯Ù† ØºØ°Ø§"],
        correct: 0,
      },
    ],
  },
  {
    id: 2,
    title: "Ø¢Ø²Ù…ÙˆÙ† Ù…Ù‡Ø§Ø±Øª Ú†Ø§Ù‚Ùˆ",
    questions: [
      {
        question: "Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ…Ù†ÛŒ Ø§Ù†Ú¯Ø´ØªØ§Ù† Ø¨Ø§ÛŒØ¯ Ú†Ù‡ Ú©Ø§Ø± Ú©Ø±Ø¯ØŸ",
        options: ["Ú†Ù†Ú¯Ø§Ù„ Ù…Ø­Ø§ÙØ¸", "Ø§Ù†Ú¯Ø´Øª ØµØ§Ù", "Ø§Ù†Ú¯Ø´ØªØ§Ù† Ø¬Ù…Ø¹", "Ø¯Ø³ØªÚ©Ø´"],
        correct: 0,
      },
    ],
  },
]);

// Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø²Ù…ÙˆÙ† Ø¬Ø¯ÛŒØ¯
function addExam() {
  const newId = examsData.length ? examsData[examsData.length - 1].id + 1 : 1;
  examsData.push({
    id: newId,
    title: "",
    questions: [],
  });
}

// Ø­Ø°Ù Ø¢Ø²Ù…ÙˆÙ†
function removeExam(index) {
  examsData.splice(index, 1);
}

// Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø¤Ø§Ù„ Ø¨Ù‡ ÛŒÚ© Ø¢Ø²Ù…ÙˆÙ†
function addQuestion(examId) {
  const exam = examsData.find((e) => e.id === examId);
  if (exam) {
    exam.questions.push({
      question: "",
      options: [],
      correct: 0,
    });
  }
}

// Ø­Ø°Ù Ø³Ø¤Ø§Ù„ Ø§Ø² ÛŒÚ© Ø¢Ø²Ù…ÙˆÙ†
function removeQuestion(examId, questionIndex) {
  const exam = examsData.find((e) => e.id === examId);
  if (exam) {
    exam.questions.splice(questionIndex, 1);
  }
}

// Ø§ÙØ²ÙˆØ¯Ù† Ú¯Ø²ÛŒÙ†Ù‡ Ø¨Ù‡ ÛŒÚ© Ø³Ø¤Ø§Ù„ Ø®Ø§Øµ
function addOption(examId, questionIndex) {
  const exam = examsData.find((e) => e.id === examId);
  if (exam) {
    const q = exam.questions[questionIndex];
    q.options.push("");
  }
}
</script>

<style scoped>
.dashboard-container {
  display: flex;
  direction: rtl;
  font-family: sans-serif;
  background-color: #f5f5f5;
  min-height: 100vh;
}

/* ===== Sidebar ===== */
.sidebar {
  width: 260px;
  background-color: #2e7d32;
  color: #ffffff;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 20px 16px;
}
.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}
.sidebar-title {
  font-size: 18px;
  margin: 0;
}
.sidebar-icons {
  display: flex;
  gap: 8px;
}
.icon-btn {
  background: none;
  border: none;
  color: #ffffff;
  cursor: pointer;
  font-size: 18px;
}
.nav-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.nav-list li {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  font-size: 14px;
  border-radius: 6px;
  margin-bottom: 8px;
  transition: background-color 0.2s;
}
.nav-list li:hover,
.nav-list li.active {
  background-color: rgba(255, 255, 255, 0.1);
}
.nav-icon {
  margin-left: 10px;
  font-size: 18px;
}
.sidebar-footer {
  margin-top: 24px;
}
.admin-info {
  display: flex;
  align-items: center;
  margin-bottom: 16px;
}
.avatar {
  font-size: 40px;
  margin-left: 10px;
}
.admin-text {
  line-height: 1.2;
}
.admin-name {
  font-size: 16px;
  margin: 0;
}
.admin-email {
  font-size: 12px;
  color: #c8e6c9;
  margin: 0;
}
.btn-logout {
  width: 100%;
  background-color: #ffffff;
  color: #2e7d32;
  border: none;
  padding: 10px 0;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}
.btn-logout:hover {
  background-color: #e0e0e0;
}

/* ===== Main Content ===== */
.main-content {
  flex: 1;
  padding: 20px;
}

/* ===== Ø¨Ø®Ø´ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ ===== */
/* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ±ÛŒÚ© Ø¨Ø§Ù„Ø§ */
.metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}
.metric-card {
  background-color: #ffffff;
  border-radius: 8px;
  display: flex;
  align-items: center;
  padding: 16px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}
.metric-icon {
  font-size: 32px;
  margin-left: 12px;
}
.metric-info {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.metric-number {
  font-size: 20px;
  margin: 0;
  color: #333333;
}
.metric-label {
  font-size: 12px;
  color: #555555;
  margin: 0;
}

/* Ø¨Ø®Ø´ Ù¾Ø§ÛŒÛŒÙ† Ú©Ø§Ø±Øª Ø³ÙÛŒØ¯ */
.bottom-panels-wrapper {
  margin-top: 24px;
}
.card-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

/* Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ú©Ø§Ø±Øª */
.system-status .panel-title,
.recent-activity .panel-title {
  font-size: 18px;
  margin: 0 0 12px 0;
  color: #333333;
}
.status-item {
  margin-bottom: 16px;
}
.status-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.status-text {
  font-size: 14px;
  color: #333333;
}
.status-value-label {
  font-size: 12px;
  color: #777777;
}
.progress-bar {
  width: 100%;
  height: 8px;
  background-color: #e0e0e0;
  border-radius: 4px;
  overflow: hidden;
  margin: 6px 0;
}
.progress-fill {
  height: 100%;
  background-color: #4caf50;
  transition: width 0.3s ease;
}
.status-percentage {
  font-size: 12px;
  color: #555555;
}

/* Ù¾Ù†Ù„ ÙØ¹Ø§Ù„ÛŒØª Ø§Ø®ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù† */
.activity-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.activity-list li {
  display: flex;
  align-items: flex-start;
  margin-bottom: 16px;
}
.activity-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  color: #ffffff;
  font-size: 16px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 12px;
}
.activity-text {
  flex: 1;
}
.activity-text p {
  margin: 0 0 4px 0;
  font-size: 14px;
  color: #333333;
}
.activity-time {
  font-size: 12px;
  color: #777777;
}

/* ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø·ÙˆØ­ Ø¢Ù…ÙˆØ²Ø´ÛŒ ===== */
.levels-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
}
.levels-panel .panel-title {
  font-size: 18px;
  margin-bottom: 16px;
  color: #333333;
}
.levels-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.level-item {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}
.level-order {
  display: flex;
  flex-direction: column;
}
.level-input {
  flex: 1;
  margin: 0 12px;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
}
.small {
  padding: 4px 8px;
  font-size: 12px;
  margin-left: 6px;
}

/* ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ===== */
.users-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
  color: #1f2023;
}
.users-panel .panel-title {
  font-size: 18px;
  margin-bottom: 16px;
  color: #333333;
}
.users-table {
  width: 100%;
  border-collapse: collapse;
}
.users-table th,
.users-table td {
  padding: 10px 8px;
  text-align: center;
  font-size: 14px;
  border-bottom: 1px solid #e0e0e0;
}
.users-table select {
  padding: 4px 6px;
  font-size: 14px;
}

/* ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ ===== */
.content-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
}
.content-panel .panel-title {
  font-size: 18px;
  margin-bottom: 16px;
  color: #333333;
}
.content-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.content-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 12px;
}
.content-input {
  flex: 1;
  margin-right: 12px;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
}
.content-textarea {
  flex: 2;
  margin-right: 12px;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
  resize: vertical;
}

/* ===== Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ ===== */
.exams-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
}
.exams-panel .panel-title {
  font-size: 18px;
  margin-bottom: 16px;
  color: #333333;
}
.exams-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.exam-item {
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  padding: 12px;
  margin-bottom: 16px;
  background-color: #fafafa;
}
.exam-header {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}
.exam-input {
  flex: 1;
  margin-right: 12px;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
}
.exam-subtitle {
  font-size: 16px;
  margin-bottom: 8px;
  color: #333333;
}
.questions-list {
  list-style: none;
  padding: 0;
  margin: 0 0 8px 0;
}
.question-item {
  margin-bottom: 12px;
  padding: 8px;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  background-color: #ffffff;
}
.question-input {
  width: 100%;
  margin-bottom: 8px;
  padding: 6px 8px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
}
.options-list {
  list-style: none;
  padding: 0;
  margin: 0 0 8px 0;
}
.option-item {
  display: flex;
  align-items: center;
  margin-bottom: 6px;
}
.option-input {
  flex: 1;
  padding: 4px 6px;
  font-size: 14px;
  border: 1px solid #cccccc;
  border-radius: 4px;
  margin-right: 8px;
}

/* ===== Ø¨Ø®Ø´ Ø§ØªØµØ§Ù„Ø§Øª Ø³ÛŒØ³ØªÙ… ===== */
.integrations-panel {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 20px;
}
.integrations-panel .panel-title {
  font-size: 18px;
  margin-bottom: 16px;
  color: #333333;
}
.integration-item {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}
.integration-icon {
  font-size: 24px;
  margin-left: 12px;
}
.integration-label {
  flex: 1;
  font-size: 14px;
  color: #333333;
}
</style>
